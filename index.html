<head>
	<title>Fortress game</title>
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<canvas id="my-canvas"></canvas>
	<script src="scenery/grass.js"></script>
	<script src="scenery/river.js"></script>
	<script src="scenery/lake.js"></script>
	<script src="scenery/forest.js"></script>
	<script src="buildings/castle.js"></script>
	<script src="script.js"></script>
	<script>
		var castles = [];
		var forests = [];
	
		var teams = ["red","blue","green","yellow"];
		
		//create castles
		for(var i = 0; i < 5; i++)
		{
			var x = Math.random() * canvas.width;
			var y = Math.random() * canvas.height;
			
			castles.push(new Castle(x, y, teams[i%4] ));
		}
		
		//create forests
		for(var i = 0; i < 1; i++)
		{
			var x = Math.random() * canvas.width;
			var y = Math.random() * canvas.height;
			
			forests.push(new Forest(x, y));
		}
		
		//create random trees
		for(var i = 0; i < 20; i++)
		{
			var x = Math.random() * canvas.width;
			var y = Math.random() * canvas.height;
			var h = 30 + 10*Math.random();			
			
			forests.push(new Tree(x, y, h));
		}
		
		var allItems = [];
		
		//add forests
		for(var i in forests)
		{
			/*for(var j in forests[i].trees)
			{
				allItems.push(forests[i].trees[j]);
			}*/
			allItems.push(forests[i]);
		}
		
		//add castles
		for(var i in castles)
		{
			allItems.push(castles[i]);
		}
		
		allItems.sort(function(a,b){return a.y - b.y});
		
		for(var i in allItems){
			drawItem(allItems[i],1);
		}
		
	</script>
</body>